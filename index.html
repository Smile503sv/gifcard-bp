<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>gifcard-bp | Tienda de Códigos Digitales</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"/>
  <style>
    body {
      margin: 0; font-family: 'Roboto', Arial, sans-serif; background: #f6f7fa;
      color: #202224; min-height: 100vh; box-sizing: border-box;
    }
    a { color: #e30613; text-decoration: none; }
    .navbar {
      background: #fff; border-bottom: 3px solid #e30613;
      box-shadow: 0 2px 10px rgba(0,0,0,0.04); position: sticky; top: 0; z-index: 100;
    }
    .navbar-container {
      max-width: 1120px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center;
      padding: 13px 18px;
    }
    .navbar-logo { font-weight: 900; font-size: 1.7rem; color: #e30613; letter-spacing: 2px; }
    .navbar-menu { list-style: none; display: flex; gap: 22px; margin: 0; padding: 0; }
    .navbar-menu li a {
      color: #222; font-weight: 700; font-size: 1rem; padding: 5px 2px; transition: color 0.16s;
    }
    .navbar-menu li a:hover, .navbar-menu .active a { color: #e30613; }
    .banner {
      background: linear-gradient(90deg,#e30613 75%,#fff 100%);
      color: #fff; padding: 38px 0 36px 0; text-align: center; border-radius: 0 0 18px 18px;
      box-shadow:0 5px 20px rgba(227,6,19,0.04);
      position:relative;
    }
    .banner h1 {
      margin: 0; font-size: 2.3rem; font-weight: 900; letter-spacing: 1.5px;
      text-shadow: 0 2px 6px rgba(227,6,19,0.12);
    }
    .banner p {margin: 12px 0 0 0; font-size: 1.18rem; font-weight: 500;}
    .carousel-container { margin:34px auto 12px auto;max-width:930px;position:relative;overflow:hidden; border-radius:22px; box-shadow:0 4px 32px rgba(0,0,0,0.10);}
    .carousel-slide { display:flex; transition:transform 0.5s cubic-bezier(.4,0,.2,1);}
    .carousel-item { min-width:100%; box-sizing:border-box; display:flex;align-items:center;justify-content:center;background:linear-gradient(90deg,#fff 60%,#f8dada18 100%);}
    .carousel-item img { width:260px; height:145px; object-fit:contain; border-radius:20px; margin-right:42px; box-shadow:0 3px 22px rgba(227,6,19,0.07);}
    .carousel-info { max-width:420px; }
    .carousel-info h2 { color:#e30613; font-size:1.62rem; font-weight:900; margin-bottom:9px; }
    .carousel-info p { color:#444; font-size:1.13rem; margin-bottom:13px;}
    .carousel-dots {text-align:center;margin-top:9px;}
    .carousel-dots button {
      border:none; width:11px; height:11px; border-radius:50%; background:#eee; margin:0 6px; cursor:pointer; transition:background 0.22s;
    }
    .carousel-dots button.active { background:#e30613; }
    .main {
      max-width: 1200px; margin: 18px auto 0 auto; padding: 18px;
      background: #fff; border-radius: 18px; box-shadow: 0 8px 32px rgba(0,0,0,0.08);
      min-height: 480px; animation: fadein 0.36s;
    }
    @keyframes fadein { from{opacity:0;transform:translateY(16px);} to{opacity:1;transform:translateY(0);} }
    .products {
      display: grid; grid-template-columns: repeat(auto-fit,minmax(240px,1fr)); gap: 33px 20px; margin-top: 20px;
    }
    .product {
      background: linear-gradient(120deg,#fff 75%,#fae1e1 100%);
      border-radius: 16px; padding: 26px 13px 20px 13px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.09); text-align: center; border: 1.5px solid #ececec;
      display: flex; flex-direction: column; align-items: center;
      transition: box-shadow .18s, transform .15s;
      position:relative;
      overflow:hidden;
    }
    .product:hover { box-shadow:0 6px 26px rgba(227,6,19,0.13);transform:translateY(-6px) scale(1.025);}
    .product img {width:78px;height:78px;object-fit:contain;margin-bottom:12px;border-radius:15px;background:#fff;}
    .product h2 {
      font-size:1.09rem;margin:0 0 10px 0;color:#e30613;font-weight:900;cursor:pointer; transition: color 0.13s;
    }
    .product h2:hover {color:#b60411;}
    .product p {color:#444;font-size:0.97rem;margin-bottom:9px;min-height:36px;}
    .select-monto {
      margin-bottom:10px;padding:6px 6px;border-radius:7px;border:1px solid #e30613;font-weight:700;color:#d60010;
    }
    .add-cart-btn {
      background:#e30613;color:#fff;padding:10px 22px;border-radius:8px;font-size:1rem;
      font-weight:700;display:inline-block;margin-top:7px;transition:background 0.2s, transform .13s;
      border:none;cursor:pointer; box-shadow:0 3px 14px rgba(227,6,19,0.08);
    }
    .add-cart-btn:hover {background:#b40410;transform:scale(1.06);}
    .product-detail-img {width:124px;height:124px;object-fit:contain;border-radius:20px;margin-bottom:18px;}
    .product-detail-title {font-size:1.45rem;font-weight:900;color:#e30613;margin:0 0 13px 0;}
    .product-detail-desc {color:#232323;font-size:1.05rem;margin-bottom:17px;white-space:pre-line;}
    .back-link {color:#e30613;text-decoration:underline;cursor:pointer;font-weight:700;margin-bottom:14px;display:inline-block;}
    .cart-btn-float {
      position:fixed;bottom:34px;right:32px;background:#e30613;color:#fff;border-radius:50%;width:62px;height:62px;
      box-shadow:0 7px 34px rgba(227,6,19,0.13);font-size:2.18rem;border:none;display:flex;align-items:center;justify-content:center;
      cursor:pointer;z-index:1001;outline:none;transition:background 0.13s;
    }
    .cart-btn-float:hover {background:#b40410;}
    .cart-panel {
      position:fixed;right:0;top:0;width:340px;height:100vh;background:#fff;box-shadow:-3px 0 16px rgba(0,0,0,0.11);
      z-index:2000;transform:translateX(110%);transition:transform 0.3s;display:flex;flex-direction:column;
    }
    .cart-panel.open {transform:translateX(0);}
    .cart-header {
      font-size:1.24rem;font-weight:900;color:#e30613;padding:22px 22px 12px 22px;border-bottom:1.5px solid #eee;
      display:flex;align-items:center;justify-content:space-between;
    }
    .cart-close-btn {
      font-size:1.5rem;background:none;border:none;color:#999;cursor:pointer;
    }
    .cart-items {flex:1;overflow-y:auto;padding:18px 18px 0 18px;}
    .cart-item {
      display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #f0f0f0;
      padding-bottom:8px;margin-bottom:12px;
    }
    .cart-item span {font-size:0.99rem;}
    .cart-remove-btn {
      background:none;border:none;color:#e30613;font-size:1.1rem;cursor:pointer;font-weight:900;
    }
    .cart-total {
      font-size:1.07rem;font-weight:700;color:#222;margin:8px 0 8px 0;text-align:right;padding-right:18px;
    }
    .cart-actions {
      display:flex;flex-direction:column;gap:8px;padding:0 18px 22px 18px;
    }
    .pay-ws-btn,.pay-bac-btn {
      padding:11px 0;font-size:1rem;border-radius:7px;font-weight:700;border:none;cursor:pointer;margin-bottom:4px;
    }
    .pay-ws-btn {background:#22c95c;color:#fff;}
    .pay-ws-btn:hover {background:#109140;}
    .pay-bac-btn {background:#e30613;color:#fff;}
    .pay-bac-btn:hover {background:#b40410;}
    .cart-panel-bg {
      display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.19);z-index:1001;
    }
    .cart-panel.open ~ .cart-panel-bg {display:block;}
    .footer {
      text-align:center;color:#444;font-size:1.04rem;padding:32px 0 15px 0;
    }
    @media (max-width:950px){
      .carousel-item img{width:155px; height:90px; margin-right:10px;}
      .carousel-info{max-width:210px;}
      .carousel-info h2{font-size:1.08rem;}
      .carousel-info p{font-size:0.99rem;}
    }
    @media (max-width:700px){
      .navbar-container,.main {padding:6px;}
      .banner h1 {font-size:1.23rem;}
      .main {margin:10px 0;}
      .cart-panel {width:99vw;}
      .carousel-item{flex-direction:column;align-items:flex-start;padding:12px;}
      .carousel-info{max-width:90vw;}
      .carousel-item img{margin-right:0;}
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="navbar-container">
      <span class="navbar-logo">gifcard-bp</span>
      <ul class="navbar-menu" id="navbar-menu">
        <li><a href="#inicio" data-page="inicio">Inicio</a></li>
        <li><a href="#productos" data-page="productos">Productos</a></li>
        <li><a href="#contacto" data-page="contacto">Contacto</a></li>
      </ul>
    </div>
  </nav>
  <div class="banner" id="banner">
    <h1>¡Bienvenido a gifcard-bp!</h1>
    <p>Compra códigos de Xbox, PlayStation, Free Fire, Steam y más. Entrega inmediata por WhatsApp o email.</p>
    <div class="carousel-container" style="margin-top:36px;">
      <div class="carousel-slide" id="carousel-slide"></div>
      <div class="carousel-dots" id="carousel-dots"></div>
    </div>
  </div>
  <div class="main" id="main-content"></div>
  <button class="cart-btn-float" id="cart-btn" title="Ver carrito">&#128722;</button>
  <div class="cart-panel" id="cart-panel">
    <div class="cart-header">
      Carrito de compras
      <button class="cart-close-btn" id="close-cart" title="Cerrar">&#10005;</button>
    </div>
    <div class="cart-items" id="cart-items"></div>
    <div class="cart-total" id="cart-total"></div>
  <div class="cart-actions">
    <button class="pay-ws-btn" onclick="pagarWhatsApp()">Solicitar compra por WhatsApp</button>
  </div>

  </div>
  <div class="cart-panel-bg" id="cart-bg"></div>
  <div class="footer">
    &copy; 2025 gifcard-bp<br>
    Entrega inmediata por correo o WhatsApp.<br>
    <small>Diseño inspirado en tiendas líderes, hecho con ❤️ para ti.</small>
  </div>
<script>
const destacados = [
  {
    img: "https://i.ebayimg.com/images/g/8kEAAOSw4H5oBwax/s-l1600.webp",
    nombre: "PlayStation Store",
    texto: "Recarga tu cuenta PlayStation y compra juegos, suscripciones, DLC y más en segundos. Tarjetas digitales con entrega inmediata."
  },
  {
    img: "https://cdn.topuplive.com/uploads/images/goods/v4/f/F-81.webp",
    nombre: "Xbox Gift Card",
    texto: "Agrega saldo a tu cuenta Xbox y compra juegos, membresías y más. Elige el monto y recíbelo al instante."
  },
  {
    img: "https://cdn.coinsbee.com/version2/dist/assets/img/brands/Netflix.webp",
    nombre: "Netflix Gift Card",
    texto: "Paga tu suscripción o regala Netflix a quien quieras. ¡Sin tarjeta, sin riesgos!"
  },
  {
    img: "https://cdn.topuplive.com/uploads/images/goods/20240911/1726048096_PpXJIUWYpb.webp",
    nombre: "Google Play",
    texto: "Compra apps, juegos, películas y más en Google Play. Entrega rápida, sin complicaciones."
  },
];
function renderCarrusel(){
  const slide = document.getElementById("carousel-slide");
  const dots = document.getElementById("carousel-dots");
  slide.innerHTML = "";
  dots.innerHTML = "";
  destacados.forEach((item, idx)=>{
    slide.innerHTML += `
      <div class="carousel-item">
        <img src="${item.img}" alt="${item.nombre}">
        <div class="carousel-info">
          <h2>${item.nombre}</h2>
          <p>${item.texto}</p>
        </div>
      </div>
    `;
    dots.innerHTML += `<button onclick="carruselIr(${idx})" id="dot${idx}"></button>`;
  });
}
let carruselIdx = 0;
function carruselMostrar(idx){
  const slide = document.getElementById("carousel-slide");
  slide.style.transform = `translateX(-${idx * 100}%)`;
  document.querySelectorAll(".carousel-dots button").forEach((b,i)=>b.classList.toggle("active",i==idx));
  carruselIdx = idx;
}
function carruselIr(idx){
  carruselMostrar(idx);
  clearInterval(window.carruselAuto);
  window.carruselAuto = setInterval(()=>carruselIr((carruselIdx+1)%destacados.length), 4200);
}
renderCarrusel();
carruselMostrar(0);
window.carruselAuto = setInterval(()=>carruselIr((carruselIdx+1)%destacados.length), 4200);

const productos = [
  {cod: 'play', nombre: 'PlayStation Store', img: 'https://i.ebayimg.com/images/g/8kEAAOSw4H5oBwax/s-l1600.webp', descrip: `¡Recarga tu cuenta PlayStation y compra juegos, suscripciones, DLC y más en segundos! La tarjeta PSN es la forma más fácil y segura de disfrutar todo el contenido de PlayStation Store. Ideal para regalar o comprar sin tarjeta de crédito.`},
  {cod: 'xbox', nombre: 'Xbox Gift Card', img: 'https://cdn.topuplive.com/uploads/images/goods/v4/f/F-81.webp', descrip: `Añade saldo a tu cuenta Xbox para comprar juegos, contenido, membresías y más. Sin tarjetas de crédito, sin complicaciones. Canjea fácilmente desde tu consola o en línea. ¡Perfecto para gamers!`},
  {cod: 'itunes', nombre: 'Apple / iTunes', img: 'https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg', descrip: `Compra apps, juegos, música, películas y más en App Store y iTunes. El regalo ideal para usuarios de iPhone, iPad y Mac. Código digital, entrega inmediata.`},
  {cod: 'gplay', nombre: 'Google Play', img: 'https://cdn.topuplive.com/uploads/images/goods/20240911/1726048096_PpXJIUWYpb.webp', descrip: `Añade saldo a tu cuenta Google Play y compra apps, juegos, películas, libros y más. Canjea el código al instante desde tu dispositivo Android.`},
  {cod: 'nintendo', nombre: 'Nintendo eShop', img: 'https://cdn.topuplive.com/uploads/images/goods/v4/f/F-79.webp', descrip: `Compra juegos, contenido extra y más para Nintendo Switch, 3DS y Wii U. Código digital para canjear fácil en la eShop.`},
  {cod: 'freefire', nombre: 'Free Fire Diamonds', img: 'https://cdn.topuplive.com/uploads/images/goods/20241023/1729667219_hMwSxSTqq6.webp', descrip: `Recarga diamantes para tu cuenta Free Fire al instante. Obtén skins, personajes, armas y más. Entrega rápida y segura.`},
  {cod: 'roblox', nombre: 'Roblox Gift Card-US', img: 'https://cdn.topuplive.com/uploads/images/goods/v4/f/F-153.webp', descrip: `Agrega Robux o membresía Premium a tu cuenta Roblox. Compra accesorios, juegos y contenido exclusivo.`},
  {cod: 'steam', nombre: 'Steam Wallet', img: 'https://upload.wikimedia.org/wikipedia/commons/8/83/Steam_icon_logo.svg', descrip: `Saldo para tu cuenta Steam. Compra juegos, DLCs, contenido y más. Canjea el código en segundos.`},
  {cod: 'amazon', nombre: 'Amazon Gift Card', img: 'https://i.ebayimg.com/images/g/luAAAeSwUqdoZwUW/s-l1600.webp', descrip: `Compra millones de productos en Amazon con esta tarjeta. Ideal para regalos o compras personales.`},
  {cod: 'fortnite', nombre: 'Fortnite V-Bucks', img: 'https://net-revolution.com/wp-content/uploads/Recargar-Fortnite-desde-Venezuela.png', descrip: `Consigue V-Bucks para comprar skins, pases de batalla y contenido exclusivo en Fortnite. Código digital, entrega inmediata.`},
  {cod: 'netflix', nombre: 'Netflix Gift Card', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/Netflix.webp', descrip: `Paga tu suscripción Netflix o regálala a quien quieras. Canjea el código y disfruta tus series y películas favoritas.`},
  {cod: 'visa', nombre: 'Visa Prepaid', img: 'https://i.ebayimg.com/images/g/oLsAAeSwyPZocSrH/s-l1600.webp', descrip: `Tarjeta prepago Visa para compras en línea en cualquier tienda que acepte Visa. Segura, anónima y fácil de usar.`},
  {cod: 'pubg', nombre: 'PUBG G-COIN', img: 'https://cdn.topuplive.com/uploads/images/goods/v4/f/F-154.webp', descrip: `Recarga G-COIN y compra ítems y pases de temporada en PUBG. Código digital, entrega rápida.`},
  {cod: 'fifa', nombre: 'FC 25 Coins', img: 'https://cdn.topuplive.com/uploads/images/goods/20250523/1747992886_jOcre8DD1t.webp', descrip: `Compra monedas para EA Sports FC 25 (FIFA) y mejora tu equipo en Ultimate Team.`},
  {cod: 'brawl', nombre: 'Brawl Stars', img: 'https://cdn.topuplive.com/uploads/images/goods/20250521/1747819357_UA0cSxeWlT.webp', descrip: `Recarga gemas para Brawl Stars y desbloquea personajes, skins y contenido exclusivo.`},
  {cod: 'apex', nombre: 'Apex Legends Mobile', img: 'https://net-revolution.com/wp-content/uploads/Recargar-Apex-Legends-Venezuela.jpg', descrip: `Compra monedas para Apex Legends Mobile y adquiere cosméticos, skins y pases de batalla.`},
  {cod: 'crypto', nombre: 'Crypto Voucher (US)', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/Crypto-Voucher.webp', descrip: `Compra criptomonedas fácilmente con este cupón. Canjea en línea y recibe tu cripto en minutos.`},
  {cod: 'binance', nombre: 'Binance Gift Card (Global)', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/Binance-Gift-Card.webp', descrip: `Recibe saldo directamente en tu cuenta Binance o regala criptomonedas a quien desees. Fácil, seguro e internacional.`},
  {cod: 'eneba', nombre: 'Eneba Gift Card (US)', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/Eneba.webp', descrip: `Compra juegos y productos digitales en Eneba. Código digital, sin necesidad de tarjeta de crédito.`},
  {cod: 'League of Legends Gift Card', nombre: 'League of Legends Gift Card', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/League-of-Legends.webp', descrip: `League of Legends (LoL) es un juego MOBA (arena de batalla multijugador en línea) muy popular desarrollado y lanzado por Riot Games. RP (Riot Point) es la moneda del juego que se puede usar para comprar artículos del juego, campeones y más. Puedes comprar RP con dinero real o ganarlos completando ciertas misiones. ¡También puedes usar las tarjetas de regalo de League of Legends para comprar Riot Points! Los RP vienen en paquetes, y cada paquete contiene una cierta cantidad de RP.`},
  {cod: 'twitch', nombre: 'Twitch Gift Card', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/Twitch.webp', descrip: `Acerca de Twitch\nTwitch es una plataforma para la transmisión de video en vivo. Ya fue fundada en Estados Unidos en 2011 y es una filial de Amazon. Twitch se hizo popular debido a los numerosos jugadores que grababan sus juegos para sus comunidades. Gracias a Twitch, estos jugadores pudieron ofrecer batallas en vivo y recibir donaciones (las llamadas "cheers") de sus fanáticos. Twitch es ahora la plataforma más exitosa para videos en vivo en el sector de los juegos. En el campo de los deportes electrónicos, se destacan juegos como Fortnite, Call of Duty, Counter Strike, League of Legends y World of Warcraft. También hay una sección de música donde los músicos pueden ofrecer sesiones en vivo.`},
  {cod: 'razer', nombre: 'Razer Gift Card', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/Razer.webp', descrip: `Acerca de Razer\nFundada en 2005, Razer fabrica hardware galardonado para juegos, incluidos periféricos y portátiles. Su plataforma de software cuenta con más de 175 millones de usuarios e incluye software popular como Razer Chroma RGB, Razer Cortex y Razer Synapse.\n\nPero quizás la oferta más impresionante de la marca es el Razer Gold. Es un servicio de pago diseñado para jugadores de ayuda, Generación Z y millennials. De hecho, Razer Gold es uno de los servicios de pago de juegos más fiables y de confianza.\nCon las tarjetas de regalo Razer Gold, puedes comprar juegos y artículos de entretenimiento sin la molestia de usar efectivo o tarjetas de crédito.`},
  {cod: 'target', nombre: 'Target Gift Card', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/Target.webp', descrip: `Acerca de Target\nTarget es una de las principales y octavas corporaciones minoristas más grandes de los Estados Unidos. Aproximadamente, Target tiene más de 1800 tiendas físicas en todo el país. Actualmente, es considerado el segundo minorista más grande de América del Norte. Ofrece una gama de productos, desde artículos esenciales para el hogar y la belleza hasta bebidas, alimentos, accesorios, ropa, decoración y mobiliario para el hogar, artículos deportivos y electrónica. Target es un destino de una sola parada donde puedes comprar lo que quieras. Ahora puedes comprar tus productos favoritos de Target utilizando tus tarjetas de regalo en Coinsbee. Es una plataforma que te permite comprar tus tarjetas de regalo utilizando tu criptomoneda.`},
  {cod: 'ebay', nombre: 'eBay Gift Card', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/eBay.webp', descrip: `¿Qué es eBay?\neBay es un mercado global en línea que ayuda a las personas a comprar y vender bienes nuevos y usados, automóviles, bienes raíces, servicios y más. Es un destino para los compradores que quieren encontrar las mejores ofertas en todo, desde ropa vintage hasta autos usados. En Ebay, los productos se pueden comprar por la oferta más alta en el proceso de subasta. Pero también es posible la compra de muchos artículos por compra directa. Ebay utiliza un sistema de calificación para compradores y vendedores. Por lo tanto, uno puede estimar si es un vendedor experimentado y bueno.\nAdemás, puede comprar tarjetas de regalo de eBay en línea para comprar todo tipo de productos en eBay. Las tarjetas de regalo también son una excelente manera de darle a alguien exactamente lo que quiere sin tener que adivinar qué podría ser.`}
];

const rangos = {
  play: [10, 20, 25, 50, 100],
  xbox: [10, 15, 25, 50, 100],
  itunes: [10, 15, 25, 50, 100],
  gplay: [10, 15, 25, 50, 100],
  nintendo: [10, 20, 35, 50, 99],
  freefire: [5, 10, 20, 50, 100],
  roblox: [10, 15, 25, 50, 100],
  steam: [5, 10, 20, 25, 50, 100],
  amazon: [10, 15, 25, 50, 100],
  fortnite: [10, 25, 40, 100],
  netflix: [15, 25, 50, 100],
  visa: [25, 50, 100, 200],
  pubg: [10, 25, 50, 100],
  fifa: [10, 25, 50, 100],
  brawl: [5, 10, 20, 50],
  apex: [10, 25, 50, 100],
  crypto: [25, 50, 100, 200],
  binance: [25, 50, 100, 200],
  eneba: [10, 25, 50],
  'League of Legends Gift Card': [10, 25, 50, 100],
  twitch: [15, 25, 50, 100],
  razer: [10, 25, 50, 100],
  target: [10, 25, 50, 100],
  ebay: [10, 25, 50, 100]
};

function getBACLink(item) {
  const links = {
    play:    {10:"#", 20:"#", 25:"#", 50:"#", 100:"#"},
    xbox:    {10:"#", 15:"#", 25:"#", 50:"#", 100:"#"},
    itunes:  {10:"#", 15:"#", 25:"#", 50:"#", 100:"#"},
    gplay:   {10:"#", 15:"#", 25:"#", 50:"#", 100:"#"},
    nintendo:{10:"#", 20:"#", 35:"#", 50:"#", 99:"#"},
    freefire:{5:"#", 10:"#", 20:"#", 50:"#", 100:"#"},
    roblox:  {10:"#", 15:"#", 25:"#", 50:"#", 100:"#"},
    steam:   {5:"#", 10:"#", 20:"#", 25:"#", 50:"#", 100:"#"},
    amazon:  {10:"#", 15:"#", 25:"#", 50:"#", 100:"#"},
    fortnite:{10:"#", 25:"#", 40:"#", 100:"#"},
    netflix: {15:"#", 25:"#", 50:"#", 100:"#"},
    visa:    {25:"#", 50:"#", 100:"#", 200:"#"},
    pubg:    {10:"#", 25:"#", 50:"#", 100:"#"},
    fifa:    {10:"#", 25:"#", 50:"#", 100:"#"},
    brawl:   {5:"#", 10:"#", 20:"#", 50:"#"},
    apex:    {10:"#", 25:"#", 50:"#", 100:"#"},
    crypto:  {25:"#", 50:"#", 100:"#", 200:"#"},
    binance: {25:"#", 50:"#", 100:"#", 200:"#"},
    eneba:   {10:"#", 25:"#", 50:"#"},
    'League of Legends Gift Card': {10:"#", 25:"#", 50:"#", 100:"#"},
    twitch:  {15:"#", 25:"#", 50:"#", 100:"#"},
    razer:   {10:"#", 25:"#", 50:"#", 100:"#"},
    target:  {10:"#", 25:"#", 50:"#", 100:"#"},
    ebay:    {10:"#", 25:"#", 50:"#", 100:"#"},
  };
  if (links[item.cod] && links[item.cod][item.monto]) {
    return links[item.cod][item.monto];
  }
  return "https://checkout.baccredomatic.com/link-general";
}

function renderInicio() {
  document.getElementById('main-content').innerHTML = `
    <h2 style="text-align:center;margin-top:24px;">Bienvenido a gifcard-bp</h2>
    <p style="text-align:center;">¡Somos tu tienda de confianza para comprar códigos digitales de videojuegos, entretenimiento, recargas y más! <br><br>
    <b>Compra fácil, paga seguro y recibe al instante en tu correo o WhatsApp.</b></p>
    <ul style="max-width:380px;margin:22px auto 0 auto;font-size:1.13rem;">
      <li>+20 productos digitales</li>
      <li>Pago BAC Credomatic y WhatsApp</li>
      <li>Soporte rápido y entrega inmediata</li>
    </ul>
    <img src="https://cdn-icons-png.flaticon.com/512/3062/3062634.png" alt="Bienvenido" style="width:120px;margin:32px auto 0;display:block;">
  `;
  window.scrollTo(0,0);
}
function renderProductos() {
  let html = `<h2 style="margin-bottom:14px;">Todos los productos</h2>
    <div class="products">`;
  productos.forEach((prod, i) => {
    const montosValidos = rangos[prod.cod] || [10, 25, 50, 100];
    html += `
      <div class="product">
        <img src="${prod.img}" alt="${prod.nombre}" onerror="this.src='https://cdn-icons-png.flaticon.com/512/542/542638.png'"/>
        <h2 onclick="verDetalleProducto(${i})" style="cursor:pointer">${prod.nombre}</h2>
        <p>Códigos digitales.<br>Entrega inmediata.</p>
        <select class="select-monto" id="monto-${i}">
          ${montosValidos.map(m => `<option value="${m}">$${m} USD</option>`).join('')}
        </select>
        <button class="add-cart-btn" onclick="agregarAlCarrito(${i}, true)">Agregar al carrito</button>
      </div>
    `;
  });
  html += `</div>`;
  document.getElementById('main-content').innerHTML = html;
  window.scrollTo(0,0);
}
function verDetalleProducto(idx) {
  let prod = productos[idx];
  const montosValidos = rangos[prod.cod] || [10, 25, 50, 100];
  let html = `
    <span class="back-link" onclick="renderProductos()">← Volver a productos</span>
    <div style="text-align:center;">
      <img class="product-detail-img" src="${prod.img}" alt="${prod.nombre}"/>
      <h2 class="product-detail-title">${prod.nombre}</h2>
    </div>
    <div class="product-detail-desc">${prod.descrip.replaceAll('\n','<br>')}</div>
    <div style="margin:18px 0;">
      <label>Monto: </label>
      <select class="select-monto" id="detalle-monto">
        ${montosValidos.map(m => `<option value="${m}">$${m} USD</option>`).join('')}
      </select>
      <button class="add-cart-btn" onclick="agregarAlCarrito(${idx}, false)">Agregar al carrito</button>
    </div>
  `;
  document.getElementById('main-content').innerHTML = html;
  window.scrollTo(0,0);
}
function renderContacto() {
  document.getElementById('main-content').innerHTML = `
    <h2>Contáctanos</h2>
    <p>¿Tienes preguntas o deseas hacer un pedido especial?<br>
    <b>Contáctanos directamente por WhatsApp.</b></p>
    <div style="text-align:center;margin:32px 0;">
      <a href="https://wa.me/50371234567" target="_blank" style="display:inline-block;text-decoration:none;">
        <div style="display:flex;align-items:center;justify-content:center;gap:10px;background:#25d366;color:#fff;border-radius:8px;padding:13px 28px;font-size:1.15rem;font-weight:700;box-shadow:0 2px 10px rgba(39,174,96,0.13);transition:background 0.17s;">
          <img src="https://static.whatsapp.net/rsrc.php/yZ/r/JvsnINJ2CZv.svg" alt="WhatsApp" style="width:32px;height:32px;">
          Contactar por WhatsApp
        </div>
      </a>
    </div>
    <p style="font-size:1.13rem;margin-top:28px;">O si lo prefieres, escríbenos al correo: <b>ventas@gifsandbp.com</b></p>
  `;
  window.scrollTo(0,0);
}
function handleNav(page) {
  document.querySelectorAll('.navbar-menu li a').forEach(el=>el.classList.remove('active'));
  let el = document.querySelector(`.navbar-menu li a[data-page="${page}"]`);
  if(el) el.classList.add('active');
  if(page === 'inicio') renderInicio();
  else if(page === 'productos') renderProductos();
  else if(page === 'contacto') renderContacto();
  else renderInicio();
}
let carrito = [];
function agregarAlCarrito(idx, desdeListado) {
  let monto = desdeListado 
    ? document.getElementById(`monto-${idx}`).value
    : document.getElementById(`detalle-monto`).value;
  let prod = productos[idx];
  const key = prod.cod + '-' + monto;
  let encontrado = carrito.find(item => item.key === key);
  if (encontrado) {
    encontrado.cantidad += 1;
  } else {
    carrito.push({ key, nombre: prod.nombre, cod: prod.cod, monto: Number(monto), cantidad: 1 });
  }
  mostrarCarrito();
}
function mostrarCarrito() {
  const panel = document.getElementById('cart-panel');
  const itemsDiv = document.getElementById('cart-items');
  const totalDiv = document.getElementById('cart-total');
  itemsDiv.innerHTML = '';
  let total = 0;
  carrito.forEach((item, idx) => {
    const subtotal = item.cantidad * item.monto;
    total += subtotal;
    const itemDiv = document.createElement('div');
    itemDiv.className = 'cart-item';
    itemDiv.innerHTML = `
      <span>${item.nombre} <b>$${item.monto}</b> x${item.cantidad}</span>
      <button class="cart-remove-btn" onclick="quitarDelCarrito(${idx})">&times;</button>
    `;
    itemsDiv.appendChild(itemDiv);
  });
  totalDiv.innerHTML = carrito.length ? `Total: <b>$${total}</b> USD` : '<span style="color:#888">Tu carrito está vacío.</span>';
  abrirCarrito();
}
function quitarDelCarrito(idx) {
  carrito.splice(idx, 1);
  mostrarCarrito();
}
function abrirCarrito() {
  document.getElementById('cart-panel').classList.add('open');
  document.getElementById('cart-bg').style.display = 'block';
}
function cerrarCarrito() {
  document.getElementById('cart-panel').classList.remove('open');
  document.getElementById('cart-bg').style.display = 'none';
}
document.getElementById('cart-btn').onclick = mostrarCarrito;
document.getElementById('close-cart').onclick = cerrarCarrito;
document.getElementById('cart-bg').onclick = cerrarCarrito;
function getWhatsAppLink() {
  const numero = "50371234567";
  let msg = "Hola, quiero comprar:\n";
  carrito.forEach(item => {
    msg += `- ${item.nombre} $${item.monto} x${item.cantidad}\n`;
  });
  msg += "\nQuiero pagar por *transferencia bancaria o efectivo*.\n¿Puedes enviarme instrucciones?";
  return `https://wa.me/${numero}?text=${encodeURIComponent(msg)}`;
}

function pagarWhatsApp() {
  if (carrito.length == 0) { alert("El carrito está vacío."); return; }
  window.open(getWhatsAppLink(), '_blank');
}
function pagarBAC() {
  if (carrito.length == 0) { alert("El carrito está vacío."); return; }
  if (carrito.length > 1) { alert("Solo puedes pagar un producto por transacción BAC. Quita los demás para continuar."); return; }
  let item = carrito[0];
  let url = getBACLink(item);
  window.open(url, '_blank');
}
window.onhashchange = function(){
  const page = (location.hash || "#inicio").replace('#','');
  handleNav(page);
};
handleNav((location.hash || "#inicio").replace('#',''));
document.querySelectorAll('.navbar-menu li a').forEach(link=>{
  link.onclick = function(e){ 
    e.preventDefault(); 
    const page = this.getAttribute('data-page');
    if (location.hash === '#' + page) {
      handleNav(page);
    } else {
      location.hash = '#' + page;
    }
  }
});
</script>
</body>
</html>
