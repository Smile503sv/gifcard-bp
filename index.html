<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>GIFSAND-BP | Tienda de CÃ³digos Digitales</title>

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@800;900&display=swap" rel="stylesheet"/>

<style>
:root {
  --primary: #e30613;
  --primary-dark: #b40410;
  --primary-glow: rgba(227,6,19,0.5);
  --secondary: #222b3a;
  --bg-body: #12171f;
  --glass: rgba(255,255,255,0.08);
  --glass-strong: rgba(255,255,255,0.15);
  --glass-border: rgba(255,255,255,0.20);
  --input-bg: #191f2e;
  --radius-xs: 6px;
  --radius-sm: 10px;
  --radius-md: 14px;
  --radius-lg: 22px;
  --radius-xl: 32px;
  --transition-fast: .13s;
  --transition-med: .22s;
}

html {height: 100%;scroll-behavior: smooth;}
body {
  background: var(--bg-body);
  color: #fff;
  font-family: 'Roboto', Arial, sans-serif;
  min-height: 100vh;
  margin: 0;
  line-height: 1.35;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

::-webkit-scrollbar { width: 10px; height: 10px; }
::-webkit-scrollbar-track { background: #0d1017; }
::-webkit-scrollbar-thumb { background: var(--secondary); border-radius: 5px; }
::-webkit-scrollbar-thumb:hover { background: var(--primary); }

a { color: var(--primary); text-decoration: none; transition: color var(--transition-fast) ease; }
a:hover { color: #ff525d; }

.navbar {
  width:100%;
  background: var(--glass);
  border-bottom: 2px solid var(--primary-dark);
  display:flex;
  align-items:center;
  justify-content:center;
  position:sticky;
  top:0;
  z-index:300;
  box-shadow:0 4px 22px rgba(0,0,0,.35);
  backdrop-filter: blur(14px) saturate(160%);
  -webkit-backdrop-filter: blur(14px) saturate(160%);
}
.navbar-container {
  max-width: 1100px;
  width:100%;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding:0 18px;
  height:64px;
}
.navbar-logo {
  display: flex; align-items: center; gap:12px;
  font-family: 'Montserrat', sans-serif;
  font-weight: 900; font-size: 1.45rem;
  color: #fff; letter-spacing:2px;
  user-select:none;
}
.navbar-logo img {
  width:40px; height:40px;
  border-radius:10px;
  box-shadow:0 2px 10px #0008, 0 0 0 2px #fff;
  background: #fff;
}

.navbar-menu {
  display:flex; gap:6px; align-items:center;
  margin:0; padding:0; list-style:none;
  position:relative;
}
.navbar-menu li { margin:0; position:relative; }
.navbar-menu a {
  display:inline-block;
  color:#fff; font-weight:700; font-size:1.05rem;
  padding:7px 19px; border-radius:12px;
  transition:background var(--transition-fast), color var(--transition-fast), transform var(--transition-fast);
  position:relative;
}
.navbar-menu a::after {
  content:"";
  position:absolute;
  left:50%; bottom:4px;
  width:0; height:2px;
  background:var(--primary);
  transition:width var(--transition-fast) ease, left var(--transition-fast) ease;
}
.navbar-menu a:hover::after { width:100%; left:0; }
.navbar-menu .active a,
.navbar-menu a.active {
  background: var(--primary); color: #fff;
  transform: translateY(-1px);
}
.navbar-menu .active a::after,
.navbar-menu a.active::after {
  width:100%; left:0;
  background:#fff;
}
.navbar-menu a:hover { color:var(--primary); background:rgba(255,255,255,0.10);}

.navbar-hamburger {
  display:none;
  flex-direction:column;
  gap:5px;
  cursor:pointer;
  padding:10px;
  margin-right:-10px;
  z-index:310;
}
.navbar-hamburger span{
  display:block;width:28px;height:4px;
  background:#fff;border-radius:4px;
  transition: transform var(--transition-fast) ease, opacity var(--transition-fast) ease;
}
.navbar-hamburger.open span:nth-child(1){transform:translateY(9px) rotate(45deg);}
.navbar-hamburger.open span:nth-child(2){opacity:0;}
.navbar-hamburger.open span:nth-child(3){transform:translateY(-9px) rotate(-45deg);}

.home-top-bg {
  min-height:320px;
  background: url('https://images.unsplash.com/photo-1511512578047-dfb367046420?auto=format&fit=crop&w=1200&q=80') center/cover no-repeat;
  position:relative;
  display:flex;align-items:center;justify-content:center;
  z-index:1;
  overflow:hidden;
}
.home-top-bg::before {
  content:"";
  position:absolute;left:0;top:0;width:100%;height:100%;
  background:linear-gradient(145deg, #0d0f1a 60%, #222b3a 100%);
  opacity:.85;z-index:0;
}
.home-top-bg::after{
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 20% 30%, rgba(227,6,19,.25) 0%, transparent 40%),
    radial-gradient(circle at 80% 70%, rgba(255,255,255,.12) 0%, transparent 55%);
  mix-blend-mode:screen;
  pointer-events:none;
  z-index:0;
  animation: heroGlow 7s ease-in-out infinite alternate;
}
@keyframes heroGlow {
  0% {opacity:.55; transform:scale(1);}
  100% {opacity:.92; transform:scale(1.03);}
}

.carousel-container {
  margin:38px auto 16px auto;
  max-width:440px;width:95vw;
  position:relative;overflow:hidden;
  border-radius:var(--radius-lg);
  box-shadow:0 8px 36px #0004;
  z-index:2;
  background:var(--glass-strong);
  backdrop-filter:blur(12px) saturate(180%);
  -webkit-backdrop-filter:blur(12px) saturate(180%);
  border:1px solid var(--glass-border);
}
.carousel-slide {
  display:flex; transition:transform 0.45s cubic-bezier(.7,0,.17,1);
  will-change:transform;
}
.carousel-item {
  min-width:100%; display:flex;align-items:center;justify-content:center;
  padding:30px 15px;
  background:rgba(18,23,31,0.80);
  border-radius:var(--radius-lg);
  position:relative; z-index:2;
  flex-direction: row;
  gap:24px;
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}
.carousel-img {
  width:85px; height:85px;
  border-radius:16px;
  box-shadow:0 0 0 4px #232a3b, 0 8px 20px rgba(0,0,0,.45);
  object-fit:contain;
  background:#fff;
}
.carousel-info { flex:1; min-width:0; }
.carousel-info h2 {
  margin:0; color:#fff;
  font-size:1.3rem; font-weight:900; letter-spacing:.5px;
  line-height:1.1; font-family:'Montserrat',sans-serif;
}
.carousel-info p {margin:10px 0 0 0;color:#d6d7e2;font-size:1.03rem;line-height:1.32;}
.carousel-btn {
  display:block; width:100%;margin:19px 0 0 0;
  background:var(--primary);
  color:#fff;font-weight:900; font-size:1.15rem;
  padding:11px 0;border:none;border-radius:11px;
  box-shadow:0 3px 18px #e3061329;
  transition: background var(--transition-fast), transform var(--transition-fast);
  cursor:pointer;
  letter-spacing:0.4px;
}
.carousel-btn:hover{transform:translateY(-1px) scale(1.02);}
.carousel-btn:active{background:var(--primary-dark)}

.carousel-dots {
  text-align:center;margin-top:18px;z-index:4;position:relative;
}
.carousel-dots button {
  border:none; width:18px; height:18px; border-radius:50%; background:#232a3b;
  margin:0 8px; cursor:pointer; transition:background var(--transition-med),transform var(--transition-med);
  outline:none; box-shadow:0 1px 4px #0004;
}
.carousel-dots button.active { background:var(--primary); transform:scale(1.18);}

.main {
  max-width: 1100px; margin: 25px auto 0 auto; padding: 24px;
  background: rgba(22,26,36,0.80);
  border-radius: var(--radius-md);
  box-shadow: 0 8px 36px #0003, 0 0 0 1px var(--glass-border);
  backdrop-filter: blur(16px) saturate(160%);
  -webkit-backdrop-filter: blur(16px) saturate(160%);
  min-height: 450px; animation: fadein 0.46s;
  position:relative;
}
@keyframes fadein { from{opacity:0;transform:translateY(22px);} to{opacity:1;transform:translateY(0);} }
.main h2 {
  font-size:2.0rem;text-align:center;margin:0 0 11px 0;
  font-family:'Montserrat',sans-serif;font-weight:900;
}
.main ul {max-width:420px;margin:16px auto 0 auto;font-size:1.15rem;padding-left:20px;}
.main li {margin-bottom:7px;}

.products {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
  gap: 36px 20px;
  margin-top: 18px;
}
.product {
  background: linear-gradient(120deg,#181c25 77%,#202531 100%);
  border-radius: var(--radius-md);
  padding: 28px 10px 20px 10px;
  box-shadow: 0 2px 10px #0006;
  text-align: center;
  border: 1.5px solid #222b3a;
  display: flex; flex-direction: column; align-items: center;
  transition: box-shadow var(--transition-med), transform var(--transition-fast), border var(--transition-fast);
  position:relative;
  overflow:hidden;
  cursor:pointer;
}
.product::after{
  content:"";
  position:absolute;inset:0;
  background:radial-gradient(circle at 50% -20%,rgba(227,6,19,.18) 0%,transparent 70%);
  opacity:0;
  transition:opacity var(--transition-med) ease;
  pointer-events:none;
  z-index:-1;
}
.product:hover::after{opacity:1;}
.product:hover { box-shadow:0 8px 22px #e3061344;transform:translateY(-5px) scale(1.018);border-color:var(--primary-dark);}
.product:active {transform:scale(.98);}
.product img {
  width:68px;height:68px;object-fit:contain;margin-bottom:12px;
  border-radius:12px;background:#fff;padding:4px;
  box-shadow:0 0 0 2px #1b1f2f,0 4px 12px rgba(0,0,0,.45);
  pointer-events:none;
}
.product h2 {
  font-size:1.04rem;margin:0 0 10px 0;
  color:var(--primary);font-weight:900;
  cursor:pointer; transition: color var(--transition-fast);
}
.product h2:hover {color:var(--primary-dark);}
.product p {color:#c9c9d9;font-size:0.98rem;margin-bottom:9px;min-height:36px;pointer-events:none;}
.select-monto {
  margin-bottom:10px;
  padding:7px 7px;
  border-radius:8px;
  border:1.5px solid var(--primary);
  font-weight:700;
  color:var(--primary);
  background: var(--input-bg);
  font-size:1rem;
  cursor:pointer;
}
.add-cart-btn {
  background:var(--primary);color:#fff;
  padding:11px 0;
  border-radius:10px;font-size:1.07rem;
  font-weight:900;display:inline-block;margin-top:7px;
  transition:background var(--transition-med), transform var(--transition-fast);
  border:none;cursor:pointer; width: 98%;
  box-shadow:0 0 14px #e3061322;
  letter-spacing:.4px;
}
.add-cart-btn:hover {background:var(--primary-dark);transform:translateY(-1px) scale(1.02);}

.product-detail-img {
  width:108px;height:108px;object-fit:contain;
  border-radius:14px;margin-bottom:18px;background:#fff;padding:6px;
  box-shadow:0 0 0 2px #1b1f2f,0 4px 16px rgba(0,0,0,.55);
}
.product-detail-title {
  font-size:1.32rem;font-weight:900;
  color:var(--primary);margin:0 0 13px 0;
  font-family:'Montserrat',sans-serif;
}
.product-detail-desc {
  color:#e1e4f1;font-size:1.03rem;margin-bottom:15px;white-space:pre-line;
}
.back-link {
  color:var(--primary);text-decoration:underline;cursor:pointer;
  font-weight:700;margin-bottom:12px;display:inline-block;
  transition:color var(--transition-fast);
}
.back-link:hover{color:var(--primary-dark);}

.cart-btn-float {
  position:fixed;bottom:30px;right:24px;
  background:var(--primary);
  color:#fff;
  border-radius:50%;width:62px;height:62px;
  box-shadow:0 7px 34px #e3061341,0 0 0 2px var(--primary-dark) inset;
  font-size:2.08rem;border:none;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;z-index:4001;outline:none;
  transition:background var(--transition-fast), transform var(--transition-fast);
}
.cart-btn-float:hover {background:var(--primary-dark);transform:scale(1.05);}
.cart-btn-float[data-count]:after{
  content:attr(data-count);
  position:absolute;
  top:-4px; right:-4px;
  min-width:22px;
  height:22px;
  padding:0 5px;
  background:#25d366;
  color:#fff;
  font-size:.85rem;
  font-weight:900;
  border-radius:12px;
  line-height:22px;
  text-align:center;
  box-shadow:0 0 0 2px #0d0f1a;
}

.cart-panel {
  position:fixed;right:0;top:0;
  width:340px;max-width:100vw;height:100vh;
  background:rgba(33,38,55,0.92);
  box-shadow:-3px 0 20px #0008;
  z-index:5000;
  transform:translateX(110%);
  transition:transform var(--transition-med) cubic-bezier(.25,.8,.25,1);
  display:flex;flex-direction:column;
  backdrop-filter:blur(20px) saturate(160%);
  -webkit-backdrop-filter:blur(20px) saturate(160%);
  border-left:1px solid var(--glass-border);
}
.cart-panel.open {transform:translateX(0);}
.cart-header {
  font-size:1.22rem;font-weight:900;color:var(--primary);
  padding:20px 22px 12px 22px;border-bottom:1.5px solid #222b3a;
  display:flex;align-items:center;justify-content:space-between;
  font-family:'Montserrat',sans-serif;
}
.cart-close-btn {
  font-size:1.5rem;background:none;border:none;color:#999;cursor:pointer;
  transition:color var(--transition-fast) ease;
}
.cart-close-btn:hover{color:#fff;}
.cart-items {flex:1;overflow-y:auto;padding:17px 17px 0 17px;}
.cart-item {
  display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #202531;
  padding-bottom:7px;margin-bottom:12px;
  gap:8px;
  font-size:0.99rem;
}
.cart-item span {font-size:0.99rem;}
.cart-remove-btn {
  background:none;border:none;color:var(--primary);font-size:1.3rem;cursor:pointer;font-weight:900;line-height:1;
  transition:transform var(--transition-fast) ease;
}
.cart-remove-btn:hover{transform:scale(1.25);}

.cart-total {
  font-size:1.09rem;font-weight:700;color:#fff;margin:8px 0 8px 0;text-align:right;padding-right:18px;
}
.cart-actions {
  display:flex;flex-direction:column;gap:8px;padding:0 18px 22px 18px;
}
.pay-ws-btn {
  padding:12px 0;font-size:1rem;border-radius:9px;font-weight:900;border:none;cursor:pointer;margin-bottom:5px;
  background:#22c95c;color:#fff; box-shadow:0 2px 8px #22c95c3b;
  letter-spacing:0.4px; font-size:1.15rem;
  transition: background var(--transition-fast), transform var(--transition-fast);
}
.pay-ws-btn:hover {background:#109140;transform:translateY(-1px) scale(1.01);}
.cart-panel-bg {
  display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.45);z-index:4000;
}
.cart-panel.open ~ .cart-panel-bg {display:block;animation:fadeBg .22s;}
@keyframes fadeBg{from{opacity:0;}to{opacity:1;}}

.form-datos {
  padding: 18px 16px;
  background: rgba(34,43,58,0.97);
  border-radius: 14px;
  margin-bottom: 10px;
  box-shadow: 0 2px 10px #0002;
  display: flex;
  flex-direction: column;
  gap: 13px;
  animation: fadein .35s;
}
.form-datos label {
  font-weight: 700;
  margin-bottom: 3px;
  color: var(--primary);
}
.form-datos input {
  padding: 9px 11px;
  border-radius: 8px;
  border: 1.3px solid #333b5c;
  background: var(--input-bg);
  color: #fff;
  font-size: 1.04rem;
  width: 100%;
  outline: none;
  transition: border-color .14s, background .14s;
}
.form-datos input:focus {
  border-color: var(--primary);
  background: #151a27;
}
.form-datos .form-error {
  color: #ff4444;
  font-size: 0.98rem;
  margin-top: -7px; margin-bottom: 7px;
  display: none;
}
.form-datos .form-error.active { display: block; }
.form-datos .pay-ws-btn {
  margin-top: 8px;
  background: var(--primary);
  color: #fff;
  border-radius: 9px;
  font-size: 1.09rem;
  font-weight: 900;
  box-shadow: 0 2px 10px #e3061330;
  letter-spacing: 0.4px;
  border: none;
  padding: 11px 0;
}
.form-datos .pay-ws-btn:hover { background: var(--primary-dark); }

.footer {
  text-align:center;color:#bbb;font-size:1.02rem;padding:32px 0 13px 0;
}

@media (max-width:800px) {
  .main, .navbar-container {padding:8px;}
  .navbar-container {height:54px;}
  .carousel-container {max-width:98vw;}
}
@media (max-width:680px) {
  .main{margin:12px 0;}
  .navbar-menu {
    display:block;
    position:absolute; left:0; top:54px; width:100vw;
    background:rgba(25,32,48,.95);
    backdrop-filter:blur(18px) saturate(160%);
    -webkit-backdrop-filter:blur(18px) saturate(160%);
    flex-direction:column; gap:0;
    max-height:0; overflow:hidden;
    transition:max-height var(--transition-med) ease;
  }
  .navbar-menu.open {max-height:220px;}
  .navbar-menu li{border-bottom:1px solid #222b3a;text-align:center;}
  .navbar-menu a{display:block;width:100%;padding:14px 0;font-size:1.15rem;}
  .navbar-hamburger {display:flex;}
  .carousel-item {flex-direction:column;gap:11px;padding:23px 6px 19px 6px;}
  .carousel-info{width:96vw;max-width:300px;}
  .carousel-info h2{font-size:1.13rem;}
  .carousel-img{width:70px;height:70px;}
  .product{padding:20px 5px 15px 5px;}
  .product-detail-img{width:74px;height:74px;}
  .cart-panel {width:96vw;}
}
@media (max-width:480px) {
  .main{padding:5px;}
  .navbar-logo img {width:30px;height:30px;}
  .cart-btn-float {right:10px;bottom:10px;}
  .cart-panel {width:100vw;}
}
</style>
</head>
<body>

<nav class="navbar">
  <div class="navbar-container">
    <span class="navbar-logo">
      <img src="https://cdn-icons-png.flaticon.com/512/3062/3062634.png" alt="Logo" loading="lazy">
      GIFSAND-BP
    </span>
    <ul class="navbar-menu" id="navbar-menu">
      <li><a href="#inicio" data-page="inicio" class="active">Inicio</a></li>
      <li><a href="#productos" data-page="productos">Productos</a></li>
      <li><a href="#contacto" data-page="contacto">Contacto</a></li>
    </ul>
    <div class="navbar-hamburger" id="navbar-hamburger" aria-label="Abrir menÃº" role="button" tabindex="0">
      <span></span><span></span><span></span>
    </div>
  </div>
</nav>

<div class="home-top-bg" id="home-top-bg">
  <div class="carousel-container">
    <div class="carousel-slide" id="carousel-slide"></div>
    <div class="carousel-dots" id="carousel-dots"></div>
  </div>
</div>

<div class="main" id="main-content"></div>

<button class="cart-btn-float" id="cart-btn" title="Ver carrito" aria-label="Ver carrito">&#128722;</button>

<div class="cart-panel" id="cart-panel" aria-hidden="true">
  <div class="cart-header">
    Carrito de compras
    <button class="cart-close-btn" id="close-cart" title="Cerrar" aria-label="Cerrar carrito">&#10005;</button>
  </div>
  <div class="cart-items" id="cart-items"></div>
  <div class="cart-total" id="cart-total"></div>
  <div id="cart-form-datos"></div>
  <div class="cart-actions" id="cart-actions">
    <button class="pay-ws-btn" id="pagar-clic-btn" type="button">Solicitar compra por WhatsApp</button>
  </div>
</div>
<div class="cart-panel-bg" id="cart-bg"></div>

<div class="footer">
  &copy; 2025 gifsand-bp<br>
  Entrega inmediata por correo o WhatsApp.<br>
  <small>DiseÃ±o moderno hecho con â¤ï¸ en El Salvador.</small>
</div>

<script>

const fondosGamer = [
  'https://images.unsplash.com/photo-1511512578047-dfb367046420?auto=format&fit=crop&w=1200&q=80',
  'https://images.unsplash.com/photo-1513875528452-39400945934d?auto=format&fit=crop&w=1200&q=80',
  'https://images.unsplash.com/photo-1454023492550-5696f8ff10e1?auto=format&fit=crop&w=1200&q=80',
  'https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=1200&q=80',
];

const destacados = [
  {
    img: "https://i.ebayimg.com/images/g/8kEAAOSw4H5oBwax/s-l1600.webp",
    nombre: "PlayStation Store",
    texto: "Recarga tu cuenta PlayStation y compra juegos, suscripciones, DLC y mÃ¡s en segundos. Entrega inmediata.",
    idx: 0,
  },
  {
    img: "https://cdn.topuplive.com/uploads/images/goods/v4/f/F-81.webp",
    nombre: "Xbox Gift Card",
    texto: "Agrega saldo a tu cuenta Xbox y compra juegos, membresÃ­as y mÃ¡s. Elige el monto y recÃ­belo al instante.",
    idx: 1,
  },
  {
    img: "https://cdn.coinsbee.com/version2/dist/assets/img/brands/Netflix.webp",
    nombre: "Netflix Gift Card",
    texto: "Paga tu suscripciÃ³n o regala Netflix a quien quieras. Â¡Sin tarjeta, sin riesgos!",
    idx: 10,
  },
  {
    img: "https://cdn.topuplive.com/uploads/images/goods/20240911/1726048096_PpXJIUWYpb.webp",
    nombre: "Google Play",
    texto: "Compra apps, juegos, pelÃ­culas y mÃ¡s en Google Play. Entrega rÃ¡pida, sin complicaciones.",
    idx: 3,
  },
];

const productos = [
  {cod: 'play', nombre: 'PlayStation Store', img: 'https://i.ebayimg.com/images/g/8kEAAOSw4H5oBwax/s-l1600.webp', descrip: `Â¡Recarga tu cuenta PlayStation y compra juegos, suscripciones, DLC y mÃ¡s en segundos! La tarjeta PSN es la forma mÃ¡s fÃ¡cil y segura de disfrutar todo el contenido de PlayStation Store. Ideal para regalar o comprar sin tarjeta de crÃ©dito.`},
  {cod: 'xbox', nombre: 'Xbox Gift Card', img: 'https://cdn.topuplive.com/uploads/images/goods/v4/f/F-81.webp', descrip: `AÃ±ade saldo a tu cuenta Xbox para comprar juegos, contenido, membresÃ­as y mÃ¡s. Sin tarjetas de crÃ©dito, sin complicaciones. Canjea fÃ¡cilmente desde tu consola o en lÃ­nea. Â¡Perfecto para gamers!`},
  {cod: 'itunes', nombre: 'Apple / iTunes', img: 'https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg', descrip: `Compra apps, juegos, mÃºsica, pelÃ­culas y mÃ¡s en App Store y iTunes. El regalo ideal para usuarios de iPhone, iPad y Mac. CÃ³digo digital, entrega inmediata.`},
  {cod: 'gplay', nombre: 'Google Play', img: 'https://cdn.topuplive.com/uploads/images/goods/20240911/1726048096_PpXJIUWYpb.webp', descrip: `AÃ±ade saldo a tu cuenta Google Play y compra apps, juegos, pelÃ­culas, libros y mÃ¡s. Canjea el cÃ³digo al instante desde tu dispositivo Android.`},
  {cod: 'nintendo', nombre: 'Nintendo eShop', img: 'https://cdn.topuplive.com/uploads/images/goods/v4/f/F-79.webp', descrip: `Compra juegos, contenido extra y mÃ¡s para Nintendo Switch, 3DS y Wii U. CÃ³digo digital para canjear fÃ¡cil en la eShop.`},
  {cod: 'freefire', nombre: 'Free Fire Diamonds', img: 'https://cdn.topuplive.com/uploads/images/goods/20241023/1729667219_hMwSxSTqq6.webp', descrip: `Recarga diamantes para tu cuenta Free Fire al instante. ObtÃ©n skins, personajes, armas y mÃ¡s. Entrega rÃ¡pida y segura.`},
  {cod: 'roblox', nombre: 'Roblox Gift Card-US', img: 'https://cdn.topuplive.com/uploads/images/goods/v4/f/F-153.webp', descrip: `Agrega Robux o membresÃ­a Premium a tu cuenta Roblox. Compra accesorios, juegos y contenido exclusivo.`},
  {cod: 'steam', nombre: 'Steam Wallet', img: 'https://upload.wikimedia.org/wikipedia/commons/8/83/Steam_icon_logo.svg', descrip: `Saldo para tu cuenta Steam. Compra juegos, DLCs, contenido y mÃ¡s. Canjea el cÃ³digo en segundos.`},
  {cod: 'amazon', nombre: 'Amazon Gift Card', img: 'https://i.ebayimg.com/images/g/luAAAeSwUqdoZwUW/s-l1600.webp', descrip: `Compra millones de productos en Amazon con esta tarjeta. Ideal para regalos o compras personales.`},
  {cod: 'fortnite', nombre: 'Fortnite V-Bucks', img: 'https://net-revolution.com/wp-content/uploads/Recargar-Fortnite-desde-Venezuela.png', descrip: `Consigue V-Bucks para comprar skins, pases de batalla y contenido exclusivo en Fortnite. CÃ³digo digital, entrega inmediata.`},
  {cod: 'netflix', nombre: 'Netflix Gift Card', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/Netflix.webp', descrip: `Paga tu suscripciÃ³n Netflix o regÃ¡lala a quien quieras. Canjea el cÃ³digo y disfruta tus series y pelÃ­culas favoritas.`},
  {cod: 'visa', nombre: 'Visa Prepaid', img: 'https://i.ebayimg.com/images/g/oLsAAeSwyPZocSrH/s-l1600.webp', descrip: `Tarjeta prepago Visa para compras en lÃ­nea en cualquier tienda que acepte Visa. Segura, anÃ³nima y fÃ¡cil de usar.`},
  {cod: 'pubg', nombre: 'PUBG G-COIN', img: 'https://cdn.topuplive.com/uploads/images/goods/v4/f/F-154.webp', descrip: `Recarga G-COIN y compra Ã­tems y pases de temporada en PUBG. CÃ³digo digital, entrega rÃ¡pida.`},
  {cod: 'fifa', nombre: 'FC 25 Coins', img: 'https://cdn.topuplive.com/uploads/images/goods/20250523/1747992886_jOcre8DD1t.webp', descrip: `Compra monedas para EA Sports FC 25 (FIFA) y mejora tu equipo en Ultimate Team.`},
  {cod: 'brawl', nombre: 'Brawl Stars', img: 'https://cdn.topuplive.com/uploads/images/goods/20250521/1747819357_UA0cSxeWlT.webp', descrip: `Recarga gemas para Brawl Stars y desbloquea personajes, skins y contenido exclusivo.`},
  {cod: 'apex', nombre: 'Apex Legends Mobile', img: 'https://net-revolution.com/wp-content/uploads/Recargar-Apex-Legends-Venezuela.jpg', descrip: `Compra monedas para Apex Legends Mobile y adquiere cosmÃ©ticos, skins y pases de batalla.`},
  {cod: 'crypto', nombre: 'Crypto Voucher (US)', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/Crypto-Voucher.webp', descrip: `Compra criptomonedas fÃ¡cilmente con este cupÃ³n. Canjea en lÃ­nea y recibe tu cripto en minutos.`},
  {cod: 'binance', nombre: 'Binance Gift Card (Global)', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/Binance-Gift-Card.webp', descrip: `Recibe saldo directamente en tu cuenta Binance o regala criptomonedas a quien desees. FÃ¡cil, seguro e internacional.`},
  {cod: 'eneba', nombre: 'Eneba Gift Card (US)', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/Eneba.webp', descrip: `Compra juegos y productos digitales en Eneba. CÃ³digo digital, sin necesidad de tarjeta de crÃ©dito.`},
  {cod: 'League of Legends Gift Card', nombre: 'League of Legends Gift Card', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/League-of-Legends.webp', descrip: `League of Legends (LoL) es un juego MOBA (arena de batalla multijugador en lÃ­nea) muy popular desarrollado y lanzado por Riot Games. RP (Riot Point) es la moneda del juego que se puede usar para comprar artÃ­culos del juego, campeones y mÃ¡s. Puedes comprar RP con dinero real o ganarlos completando ciertas misiones. Â¡TambiÃ©n puedes usar las tarjetas de regalo de League of Legends para comprar Riot Points! Los RP vienen en paquetes, y cada paquete contiene una cierta cantidad de RP.`},
  {cod: 'twitch', nombre: 'Twitch Gift Card', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/Twitch.webp', descrip: `Acerca de Twitch
Twitch es una plataforma para la transmisiÃ³n de video en vivo. Ya fue fundada en Estados Unidos en 2011 y es una filial de Amazon. Twitch se hizo popular debido a los numerosos jugadores que grababan sus juegos para sus comunidades. Gracias a Twitch, estos jugadores pudieron ofrecer batallas en vivo y recibir donaciones (las llamadas "cheers") de sus fanÃ¡ticos. Twitch es ahora la plataforma mÃ¡s exitosa para videos en vivo en el sector de los juegos. En el campo de los deportes electrÃ³nicos, se destacan juegos como Fortnite, Call of Duty, Counter Strike, League of Legends y World of Warcraft. TambiÃ©n hay una secciÃ³n de mÃºsica donde los mÃºsicos pueden ofrecer sesiones en vivo.`},
  {cod: 'razer', nombre: 'Razer Gift Card', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/Razer.webp', descrip: `Acerca de Razer
Fundada en 2005, Razer fabrica hardware galardonado para juegos, incluidos perifÃ©ricos y portÃ¡tiles. Su plataforma de software cuenta con mÃ¡s de 175 millones de usuarios e incluye software popular como Razer Chroma RGB, Razer Cortex y Razer Synapse.

Pero quizÃ¡s la oferta mÃ¡s impresionante de la marca es el Razer Gold. Es un servicio de pago diseÃ±ado para jugadores de ayuda, GeneraciÃ³n Z y millennials. De hecho, Razer Gold es uno de los servicios de pago de juegos mÃ¡s fiables y de confianza.
Con las tarjetas de regalo Razer Gold, puedes comprar juegos y artÃ­culos de entretenimiento sin la molestia de usar efectivo o tarjetas de crÃ©dito.`},
  {cod: 'target', nombre: 'Target Gift Card', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/Target.webp', descrip: `Acerca de Target
Target es una de las principales y octavas corporaciones minoristas mÃ¡s grandes de los Estados Unidos. Aproximadamente, Target tiene mÃ¡s de 1800 tiendas fÃ­sicas en todo el paÃ­s. Actualmente, es considerado el segundo minorista mÃ¡s grande de AmÃ©rica del Norte. Ofrece una gama de productos, desde artÃ­culos esenciales para el hogar y la belleza hasta bebidas, alimentos, accesorios, ropa, decoraciÃ³n y mobiliario para el hogar, artÃ­culos deportivos y electrÃ³nica. Target es un destino de una sola parada donde puedes comprar lo que quieras. Ahora puedes comprar tus productos favoritos de Target utilizando tus tarjetas de regalo en Coinsbee. Es una plataforma que te permite comprar tus tarjetas de regalo utilizando tu criptomoneda.`},
  {cod: 'ebay', nombre: 'eBay Gift Card', img: 'https://cdn.coinsbee.com/version2/dist/assets/img/brands/eBay.webp', descrip: `Â¿QuÃ© es eBay?
eBay es un mercado global en lÃ­nea que ayuda a las personas a comprar y vender bienes nuevos y usados, automÃ³viles, bienes raÃ­ces, servicios y mÃ¡s. Es un destino para los compradores que quieren encontrar las mejores ofertas en todo, desde ropa vintage hasta autos usados. En Ebay, los productos se pueden comprar por la oferta mÃ¡s alta en el proceso de subasta. Pero tambiÃ©n es posible la compra de muchos artÃ­culos por compra directa. Ebay utiliza un sistema de calificaciÃ³n para compradores y vendedores. Por lo tanto, uno puede estimar si es un vendedor experimentado y bueno.
AdemÃ¡s, puede comprar tarjetas de regalo de eBay en lÃ­nea para comprar todo tipo de productos en eBay. Las tarjetas de regalo tambiÃ©n son una excelente manera de darle a alguien exactamente lo que quiere sin tener que adivinar quÃ© podrÃ­a ser.`}
];

const rangos = {
  play: [10, 20, 25, 50, 100],
  xbox: [10, 15, 25, 50, 100],
  itunes: [10, 15, 25, 50, 100],
  gplay: [10, 15, 25, 50, 100],
  nintendo: [10, 20, 35, 50, 99],
  freefire: [5, 10, 20, 50, 100],
  roblox: [10, 15, 25, 50, 100],
  steam: [5, 10, 20, 25, 50, 100],
  amazon: [10, 15, 25, 50, 100],
  fortnite: [10, 25, 40, 100],
  netflix: [15, 25, 50, 100],
  visa: [25, 50, 100, 200],
  pubg: [10, 25, 50, 100],
  fifa: [10, 25, 50, 100],
  brawl: [5, 10, 20, 50],
  apex: [10, 25, 50, 100],
  crypto: [25, 50, 100, 200],
  binance: [25, 50, 100, 200],
  eneba: [10, 25, 50],
  'League of Legends Gift Card': [10, 25, 50, 100],
  twitch: [15, 25, 50, 100],
  razer: [10, 25, 50, 100],
  target: [10, 25, 50, 100],
  ebay: [10, 25, 50, 100]
};

function setFondoGamer(idx) {
  document.getElementById("home-top-bg").style.backgroundImage =
    "url('" + fondosGamer[idx % fondosGamer.length] + "')";
}

function renderCarrusel(){
  const slide = document.getElementById("carousel-slide");
  const dots = document.getElementById("carousel-dots");
  slide.innerHTML = "";
  dots.innerHTML = "";
  destacados.forEach((item, idx)=>{
    slide.innerHTML += `
      <div class="carousel-item">
        <img src="${item.img}" class="carousel-img" alt="${item.nombre}" loading="lazy">
        <div class="carousel-info">
          <h2>${item.nombre}</h2>
          <p>${item.texto}</p>
          <button class="carousel-btn" onclick="verDetalleProducto(${item.idx}, true)">Comprar ahora</button>
        </div>
      </div>
    `;
    dots.innerHTML += `<button onclick="carruselIr(${idx})" id="dot${idx}" aria-label="Ir al destacado ${idx+1}"></button>`;
  });
}
let carruselIdx = 0;
function carruselMostrar(idx){
  const slide = document.getElementById("carousel-slide");
  slide.style.transform = `translateX(-${idx * 100}%)`;
  document.querySelectorAll(".carousel-dots button").forEach((b,i)=>b.classList.toggle("active",i==idx));
  setFondoGamer(idx);
  carruselIdx = idx;
}
function carruselIr(idx){
  carruselMostrar(idx);
  restartCarruselAuto();
}
function restartCarruselAuto(){
  clearInterval(window.carruselAuto);
  window.carruselAuto = setInterval(()=>carruselIr((carruselIdx+1)%destacados.length), 3500);
}

function enableCarouselSwipe(){
  const slideWrap = document.querySelector(".carousel-container");
  if(!slideWrap) return;
  let startX = 0;
  slideWrap.addEventListener("touchstart", e=>{startX = e.touches[0].clientX;}, {passive:true});
  slideWrap.addEventListener("touchend", e=>{
    let diff = e.changedTouches[0].clientX - startX;
    if(Math.abs(diff) > 50){
      if(diff < 0){ carruselIr( (carruselIdx+1)%destacados.length ); }
      else { carruselIr( (carruselIdx-1+destacados.length)%destacados.length ); }
    }
  }, {passive:true});
}

const navMenu = document.getElementById("navbar-menu");
const navHamburger = document.getElementById("navbar-hamburger");
navHamburger.onclick = () => {
  navMenu.classList.toggle("open");
  navHamburger.classList.toggle("open");
};
navHamburger.addEventListener("keypress", e=>{if(e.key==="Enter"||e.key===" "){navHamburger.click();}});

window.addEventListener("resize",()=>{ if(window.innerWidth>680){navMenu.classList.remove("open");navHamburger.classList.remove("open");} });

function handleNav(page) {
  document.querySelectorAll('.navbar-menu li a').forEach(el=>el.classList.remove('active'));
  let el = document.querySelector(`.navbar-menu li a[data-page="${page}"]`);
  if(el) el.classList.add('active');
  if(page === 'inicio') renderInicio();
  else if(page === 'productos') renderProductos();
  else if(page === 'contacto') renderContacto();
  else renderInicio();
}

function renderInicio() {
  document.getElementById('main-content').innerHTML = `
    <h2>Bienvenido a GIFSAND-BP</h2>
    <p style="text-align:center;">Â¡Somos tu tienda de confianza para comprar cÃ³digos digitales de videojuegos, entretenimiento, recargas y mÃ¡s!</p>
    <p style="text-align:center;font-weight:700;font-size:1.09rem;margin-bottom:2px;">
      Compra fÃ¡cil, paga seguro y recibe al instante en tu correo o WhatsApp.
    </p>
    <ul>
      <li>+20 productos digitales</li>
      <li>Pago por transferencia o efectivo</li>
      <li>Soporte rÃ¡pido y entrega inmediata</li>
    </ul>
  `;
  window.scrollTo(0,0);
}

function renderProductos() {
  let html = `<h2 style="margin-bottom:12px;">Todos los productos</h2>
    <div class="products">`;
  productos.forEach((prod, i) => {
    const montosValidos = rangos[prod.cod] || [10, 25, 50, 100];
    html += `
      <div class="product" data-idx="${i}" onclick="cardClick(event,${i})" role="button" tabindex="0" onkeypress="if(event.key==='Enter'||event.key===' '){cardClick(event,${i})}">
        <img src="${prod.img}" alt="${prod.nombre}" loading="lazy" onerror="this.src='https://cdn-icons-png.flaticon.com/512/542/542638.png'"/>
        <h2>${prod.nombre}</h2>
        <p>CÃ³digos digitales.<br>Entrega inmediata.</p>
        <select class="select-monto" id="monto-${i}">
          ${montosValidos.map(m => `<option value="${m}">$${m} USD</option>`).join('')}
        </select>
        <button class="add-cart-btn" type="button" onclick="agregarAlCarrito(${i}, true);event.stopPropagation();">Agregar al carrito</button>
      </div>
    `;
  });
  html += `</div>`;
  document.getElementById('main-content').innerHTML = html;
  window.scrollTo(0,0);
}

function cardClick(e, i){
  if(e.target.closest('select') || e.target.closest('button')) return;
  verDetalleProducto(i, false);
}

function verDetalleProducto(idx, fromDestacado) {
  if(idx<0 || idx>=productos.length){console.warn("Ãndice invÃ¡lido detalle",idx);return;}
  let prod = productos[idx];
  const montosValidos = rangos[prod.cod] || [10, 25, 50, 100];
  let html = `
    <span class="back-link" onclick="renderProductos()">â Volver a productos</span>
    <div style="text-align:center;">
      <img class="product-detail-img" src="${prod.img}" alt="${prod.nombre}" loading="lazy"/>
      <h2 class="product-detail-title">${prod.nombre}</h2>
    </div>
    <div class="product-detail-desc">${escapeHtml(prod.descrip).replace(/\\n/g,'<br>')}</div>
    <div style="margin:18px 0;">
      <label>Monto: </label>
      <select class="select-monto" id="detalle-monto">
        ${montosValidos.map(m => `<option value="${m}">$${m} USD</option>`).join('')}
      </select>
      <button class="add-cart-btn" type="button" onclick="agregarAlCarrito(${idx}, false)">Agregar al carrito</button>
    </div>
  `;
  document.getElementById('main-content').innerHTML = html;
  window.scrollTo(0,0);
  if (fromDestacado) window.scrollTo(0, 80);
}

function escapeHtml(str){
  return String(str)
    .replace(/&/g,"&amp;")
    .replace(/</g,"&lt;")
    .replace(/>/g,"&gt;")
    .replace(/"/g,"&quot;")
    .replace(/'/g,"&#039;");
}

function renderContacto() {
  document.getElementById('main-content').innerHTML = `
    <h2>ContÃ¡ctanos</h2>
    <p>Â¿Tienes preguntas o deseas hacer un pedido especial?<br>
    <b>ContÃ¡ctanos directamente por WhatsApp.</b></p>
    <div style="text-align:center;margin:32px 0;">
      <a href="https://wa.me/message/6PUURM6RIVLZF1" target="_blank" style="display:inline-block;text-decoration:none;">
        <div style="display:flex;align-items:center;justify-content:center;gap:10px;background:#25d366;color:#fff;border-radius:8px;padding:13px 28px;font-size:1.15rem;font-weight:700;box-shadow:0 2px 10px rgba(39,174,96,0.13);transition:background 0.17s;">
          <img src="https://static.whatsapp.net/rsrc.php/yZ/r/JvsnINJ2CZv.svg" alt="WhatsApp" style="width:32px;height:32px;">
          Contactar por WhatsApp
        </div>
      </a>
    </div>
    <p style="font-size:1.13rem;margin-top:28px;">O si lo prefieres, escrÃ­benos al correo: <b>ventas@gifsandbp.com</b></p>
  `;
  window.scrollTo(0,0);
}

let carrito = [];
let datosEntrega = {nombre: '', correo: '', telefono: ''};

function agregarAlCarrito(idx, desdeListado) {
  if(idx<0 || idx>=productos.length){alert("Producto no disponible.");return;}
  let monto;
  if(desdeListado){
    const el = document.getElementById(`monto-${idx}`);
    monto = el ? el.value : (rangos[productos[idx].cod] || [10])[0];
  } else {
    const el = document.getElementById('detalle-monto');
    monto = el ? el.value : (rangos[productos[idx].cod] || [10])[0];
  }
  let prod = productos[idx];
  const key = prod.cod + '-' + monto;
  let encontrado = carrito.find(item => item.key === key);
  if (encontrado) {
    encontrado.cantidad += 1;
  } else {
    carrito.push({ key, nombre: prod.nombre, cod: prod.cod, monto: Number(monto), cantidad: 1 });
  }
  updateCartCounter();
  mostrarCarrito();
  lanzarConfeti();
}

function quitarDelCarrito(idx) {
  carrito.splice(idx, 1);
  updateCartCounter();
  mostrarCarrito();
}

function updateCartCounter(){
  const btn = document.getElementById('cart-btn');
  const count = carrito.reduce((sum,i)=>sum+i.cantidad,0);
  if(count>0){ btn.setAttribute('data-count', count); }
  else { btn.removeAttribute('data-count'); }
}

function mostrarCarrito() {
  const itemsDiv = document.getElementById('cart-items');
  const totalDiv = document.getElementById('cart-total');
  itemsDiv.innerHTML = '';
  let total = 0;
  carrito.forEach((item, idx) => {
    const subtotal = item.cantidad * item.monto;
    total += subtotal;
    const itemDiv = document.createElement('div');
    itemDiv.className = 'cart-item';
    itemDiv.innerHTML = `
      <span>${item.nombre} <b>$${item.monto}</b> x${item.cantidad}</span>
      <button class="cart-remove-btn" onclick="quitarDelCarrito(${idx})" title="Quitar">&times;</button>
    `;
    itemsDiv.appendChild(itemDiv);
  });
  totalDiv.innerHTML = carrito.length ? `Total: <b>$${total}</b> USD` : '<span style="color:#888">Tu carrito estÃ¡ vacÃ­o.</span>';
  renderFormDatos();
  abrirCarrito();
}

function abrirCarrito() {
  const panel = document.getElementById('cart-panel');
  panel.classList.add('open');
  panel.setAttribute('aria-hidden','false');
  document.getElementById('cart-bg').style.display = 'block';
}
function cerrarCarrito() {
  const panel = document.getElementById('cart-panel');
  panel.classList.remove('open');
  panel.setAttribute('aria-hidden','true');
  document.getElementById('cart-bg').style.display = 'none';
}
document.getElementById('cart-btn').onclick = mostrarCarrito;
document.getElementById('close-cart').onclick = cerrarCarrito;
document.getElementById('cart-bg').onclick = cerrarCarrito;

function isCorreoValido(correo){
  if(!correo) return false;
  correo = correo.trim();
  if(/\s/.test(correo)) return false;
  const parts = correo.split("@");
  if(parts.length !== 2) return false;
  if(parts[0].length < 1) return false;
  if(parts[1].indexOf(".") === -1) return false;
  const last = parts[1].split(".").pop();
  if(last.length < 2) return false;
  return true;
}

function renderFormDatos() {
  const formDiv = document.getElementById('cart-form-datos');
  if (carrito.length === 0) { formDiv.innerHTML = ''; return; }
  formDiv.innerHTML = `
    <form class="form-datos" id="form-datos-entrega" autocomplete="on">
      <div>
        <label for="nombre">Nombre completo para la entrega <span style="color:#ff6060">*</span></label>
        <input type="text" id="nombre" name="nombre" maxlength="60" placeholder="Ej: Carlos MÃ©ndez" required value="${datosEntrega.nombre||''}" />
        <div class="form-error" id="err-nombre"></div>
      </div>
      <div>
        <label for="correo">Correo electrÃ³nico <span style="color:#ff6060">*</span></label>
        <input type="email" id="correo" name="correo" maxlength="70" placeholder="Ej: usuario@email.com" required value="${datosEntrega.correo||''}" />
        <div class="form-error" id="err-correo"></div>
      </div>
      <div>
        <label for="telefono">NÃºmero de WhatsApp o telÃ©fono <span style="color:#ff6060">*</span></label>
        <input type="tel" id="telefono" name="telefono" maxlength="20" pattern="[ 0-9+()\\-]{8,20}" placeholder="Ej: +50371234567" required value="${datosEntrega.telefono||''}" />
        <div class="form-error" id="err-telefono"></div>
      </div>
      <button class="pay-ws-btn" type="submit">Finalizar pedido</button>
    </form>
  `;
  document.getElementById('form-datos-entrega').onsubmit = function(e) {
    e.preventDefault();
    if (validarDatosEntrega()) {
      lanzarConfeti();
      setTimeout(() => {
        window.open(getWhatsAppLink(), '_blank');
      }, 250);
    }
  };
}

function validarDatosEntrega() {
  let ok = true;
  let nombre = document.getElementById('nombre').value.trim();
  let correo = document.getElementById('correo').value.trim();
  let telefono = document.getElementById('telefono').value.trim();
  datosEntrega.nombre = nombre;
  datosEntrega.correo = correo;
  datosEntrega.telefono = telefono;

  const errNombre = document.getElementById('err-nombre');
  const errCorreo = document.getElementById('err-correo');
  const errTelefono = document.getElementById('err-telefono');
  errNombre.classList.remove('active'); errCorreo.classList.remove('active'); errTelefono.classList.remove('active');

  if (!nombre || nombre.length < 3) {
    errNombre.textContent = 'Ingresa tu nombre completo.'; errNombre.classList.add('active'); ok = false;
  }
  if (!isCorreoValido(correo)) {
    errCorreo.textContent = 'Correo invÃ¡lido.'; errCorreo.classList.add('active'); ok = false;
  }
  if (!telefono || telefono.length < 8 || !/^[0-9+()\-\\s]{8,20}$/.test(telefono)) {
    errTelefono.textContent = 'NÃºmero invÃ¡lido.'; errTelefono.classList.add('active'); ok = false;
  }
  return ok;
}

function getWhatsAppLink() {
  const numero = "6PUURM6RIVLZF1";
  let msg = "Hola, quiero comprar:\\n";
  carrito.forEach(item => {
    msg += `- ${item.nombre} $${item.monto} x${item.cantidad}\\n`;
  });
  msg += `\\nDatos de entrega:\\nNombre: ${datosEntrega.nombre}\\nCorreo: ${datosEntrega.correo}\\nTelÃ©fono: ${datosEntrega.telefono}`;
  msg += "\\nQuiero pagar por *transferencia bancaria o efectivo*.\\nÂ¿Puedes enviarme instrucciones?";
  return `https://wa.me/message/${numero}?text=${encodeURIComponent(msg)}`;
}

document.getElementById('pagar-clic-btn').onclick = function() {
  if (carrito.length == 0) { alert("El carrito estÃ¡ vacÃ­o."); return; }
  renderFormDatos();
  document.getElementById('form-datos-entrega').scrollIntoView({behavior:'smooth'});
};

function lanzarConfeti() {
  if (!window.confettiScript) {
    var script = document.createElement('script');
    script.src = "https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js";
    script.onload = window.confettiScriptLoaded = function() {
      confetti({
        particleCount: 160,
        spread: 75,
        origin: { y: 0.65 }
      });
    };
    document.body.appendChild(script);
    window.confettiScript = true;
  } else if(window.confettiScriptLoaded){
    window.confettiScriptLoaded();
  }
}

window.onhashchange = function(){
  const page = (location.hash || "#inicio").replace('#','');
  handleNav(page);
};
document.querySelectorAll('.navbar-menu li a').forEach(link=>{
  link.onclick = function(e){ 
    e.preventDefault(); 
    const page = this.getAttribute('data-page');
    if (location.hash === '#' + page) {
      handleNav(page);
    } else {
      location.hash = '#' + page;
    }
    if(window.innerWidth<680) {navMenu.classList.remove("open");navHamburger.classList.remove("open");}
  }
});

renderCarrusel();
carruselMostrar(0);
restartCarruselAuto();
enableCarouselSwipe();
handleNav((location.hash || "#inicio").replace('#',''));
</script>
</body>
</html>
